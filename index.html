<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8">
    <title>–†–∏—Å–æ–≤–∞–ª–∫–∞</title>
    <style>
        body {
            display: flex;
            flex-direction: column;
            align-items: center;
            justify-content: center;
            height: 100vh;
            margin: 0;
            background: #1e1e1e;
            color: white;
            font-family: Arial, sans-serif;
        }
        canvas {
            border: 2px solid white;
            background: black;
            cursor: crosshair;
        }
        .controls {
            margin-top: 10px;
            display: flex;
            gap: 10px;
            flex-wrap: wrap;
            justify-content: center;
        }
        button {
            padding: 8px 15px;
            border: none;
            border-radius: 6px;
            cursor: pointer;
            font-size: 16px;
            font-weight: bold;
        }
        .clear { background: crimson; color: white; }
        .save { background: limegreen; color: black; }
        .color-picker, .size-picker {
            padding: 5px;
        }
    </style>
</head>
<body>
    <h1>üé® –†–∏—Å–æ–≤–∞–ª–∫–∞</h1>
    <canvas id="canvas" width="800" height="500"></canvas>
    <div class="controls">
        <input type="color" id="color" class="color-picker" value="#ffffff">
        <input type="range" id="size" class="size-picker" min="1" max="20" value="4">
        <button class="clear" onclick="clearCanvas()">–û—á–∏—Å—Ç–∏—Ç—å</button>
        <button class="save" onclick="saveCanvas()">–°–æ—Ö—Ä–∞–Ω–∏—Ç—å</button>
    </div>

    <script>
        const canvas = document.getElementById("canvas");
        const ctx = canvas.getContext("2d");
        let painting = false;
        let color = document.getElementById("color").value;
        let size = document.getElementById("size").value;

        document.getElementById("color").addEventListener("change", (e) => {
            color = e.target.value;
        });

        document.getElementById("size").addEventListener("input", (e) => {
            size = e.target.value;
        });

        function startPosition(e) {
            painting = true;
            draw(e);
        }
        function endPosition() {
            painting = false;
            ctx.beginPath();
        }
        function draw(e) {
            if (!painting) return;
            ctx.lineWidth = size;
            ctx.lineCap = "round";
            ctx.strokeStyle = color;

            const rect = canvas.getBoundingClientRect();
            ctx.lineTo(e.clientX - rect.left, e.clientY - rect.top);
            ctx.stroke();
            ctx.beginPath();
            ctx.moveTo(e.clientX - rect.left, e.clientY - rect.top);
        }

        function clearCanvas() {
            ctx.clearRect(0, 0, canvas.width, canvas.height);
        }

        function saveCanvas() {
            const link = document.createElement('a');
            link.download = 'drawing.png';
            link.href = canvas.toDataURL();
            link.click();
        }

        canvas.addEventListener("mousedown", startPosition);
        canvas.addEventListener("mouseup", endPosition);
        canvas.addEventListener("mousemove", draw);
    </script>
</body>
</html>

